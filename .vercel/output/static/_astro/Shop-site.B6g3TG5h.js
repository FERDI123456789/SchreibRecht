import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.DU5konRZ.js";import"./confetti.module.CKOiixMU.js";const N=[{id:1,name:"Extra Herz",description:"Erhöht die maximale Anzahl der Herzen um 1",price:50,icon:"❤️",owned:!1,type:"item"},{id:2,name:"Schnellere Regeneration",description:"Reduziert die Regenerationszeit auf 5 Sekunden",price:100,icon:"⚡",owned:!1,type:"item"},{id:3,name:"Doppelte Münzen",description:"Verdiene doppelt so viele Münzen pro richtiger Antwort",price:150,icon:"💰",owned:!1,type:"item"},{id:4,name:"Holzblock",description:"Ein einfacher Holzblock zum Bauen",price:10,icon:"🪵",owned:!1,type:"block"},{id:5,name:"Steinblock",description:"Ein stabiler Steinblock",price:20,icon:"🪨",owned:!1,type:"block"},{id:6,name:"Glasblock",description:"Ein durchsichtiger Glasblock",price:30,icon:"💎",owned:!1,type:"block"}];function I(){const[n,m]=o.useState(0),[c,g]=o.useState(N),[u,i]=o.useState([]),[b,x]=o.useState({}),[f,y]=o.useState(!0);o.useEffect(()=>{const s=localStorage.getItem("totalCoins");m(s?parseInt(s):0);const r=localStorage.getItem("shopItems");r&&g(JSON.parse(r));const a=localStorage.getItem("inventory");a&&x(JSON.parse(a));const t=document.createElement("style");return t.innerText=`
      @keyframes slideInDown {
        0% {
          transform: translateY(-100%);
          opacity: 0;
        }
        10% {
          transform: translateY(0);
          opacity: 1;
        }
        90% {
          transform: translateY(0);
          opacity: 1;
        }
        100% {
          transform: translateY(-100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(t),setTimeout(()=>y(!1),1e3),()=>t.remove()},[]);const j=s=>{const r=Date.now(),a={id:r,item:s,timestamp:r};i(t=>{const p=[...t,a];return p.length>1?(setTimeout(()=>{i(l=>l.filter(d=>d.id===a.id))},3e3),setTimeout(()=>{i(l=>l.filter(d=>d.id!==a.id))},5e3)):setTimeout(()=>{i(l=>l.filter(d=>d.id!==a.id))},5e3),p})},w=s=>{switch(s.id){case 1:localStorage.setItem("extraHeart","true");break;case 2:localStorage.setItem("fastRegen","true");break;case 3:localStorage.setItem("doubleCoins","true");break}},h=s=>{if(n>=s.price){if(j(s),s.type==="block")x(a=>{const t={...a,[s.id]:(a[s.id]||0)+1};return localStorage.setItem("inventory",JSON.stringify(t)),t});else if(!s.owned){const a=c.map(t=>t.id===s.id?{...t,owned:!0}:t);g(a),localStorage.setItem("shopItems",JSON.stringify(a)),w(s)}const r=n-s.price;m(r),localStorage.setItem("totalCoins",r.toString())}};return localStorage.getItem("extraHeart"),localStorage.getItem("fastRegen"),localStorage.getItem("doubleCoins"),f?e.jsxs("div",{className:"animate-pulse px-4 py-8",children:[e.jsxs("div",{className:"mb-8 border-b border-gray-200 pb-4 flex items-center",children:[e.jsx("div",{className:"h-10 w-32 bg-gray-300 rounded"}),e.jsx("div",{className:"ml-auto h-8 w-32 bg-gray-200 rounded-full"})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((s,r)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-400 p-6 h-20"}),e.jsxs("div",{className:"p-4 bg-white",children:[e.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 w-32 bg-gray-100 rounded mb-4"}),e.jsx("div",{className:"h-10 w-full bg-gray-200 rounded"})]})]},r))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-8 w-48 bg-gray-300 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((s,r)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gray-400 p-6 h-16"}),e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"h-5 w-20 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 w-28 bg-gray-100 rounded mb-3"}),e.jsx("div",{className:"h-8 w-full bg-gray-200 rounded"})]})]},r))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-8 border-b border-gray-200 pb-4",children:e.jsxs("h1",{className:"text-3xl font-bold flex items-center text-gray-900",children:["Shop",e.jsxs("span",{className:"ml-auto text-lg bg-yellow-100 px-3 py-1 rounded-full flex items-center text-amber-800 font-normal border border-yellow-200 shadow-md",children:[e.jsx("span",{className:"text-amber-800 mr-1 text-xl",children:"🪙"})," ",n]})]})}),e.jsxs("div",{className:"mb-10",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-900 flex items-center",children:[e.jsx("span",{className:"bg-gray-100 p-2 rounded-lg text-gray-800 mr-2",children:"✨"}),"Spezial-Items"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.filter(s=>s.type==="item").map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[e.jsxs("div",{className:`${s.owned?"bg-gray-800":"bg-gray-900"} p-3 flex items-center justify-between`,children:[e.jsx("span",{className:"text-4xl transform group-hover:scale-110 transition-transform",children:s.icon}),e.jsxs("div",{className:"bg-white rounded-full px-3 py-1 text-sm font-bold text-gray-800 shadow border border-gray-200",children:[s.price," ",e.jsx("span",{className:"text-amber-500",children:"🪙"})]})]}),e.jsxs("div",{className:"p-4 bg-white",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:s.description}),e.jsx("button",{onClick:()=>h(s),disabled:s.owned||n<s.price,className:`w-full py-2 px-4 rounded-lg transition-all duration-300 ${s.owned?"bg-green-50 border border-green-500 text-green-600 cursor-default shadow-md":n>=s.price?"bg-gray-900 hover:bg-gray-800 text-white transform hover:scale-105 shadow-md hover:shadow-lg":"bg-gray-200 cursor-not-allowed text-gray-500"}`,children:s.owned?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Gekauft"]}):e.jsx("span",{className:"flex items-center justify-center",children:n>=s.price?e.jsx(e.Fragment,{children:"Kaufen"}):e.jsx(e.Fragment,{children:"Nicht genug Münzen"})})})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-900 flex items-center",children:[e.jsx("span",{className:"bg-gray-100 p-2 rounded-lg text-gray-800 mr-2",children:"🧱"}),"Bau-Blöcke"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.filter(s=>s.type==="block").map(s=>{const r=b[s.id]||0;return e.jsxs("div",{className:"border border-gray-200 rounded-xl bg-white shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsxs("div",{className:"bg-gray-800 p-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-3xl transform group-hover:scale-110 transition-transform",children:s.icon}),e.jsxs("div",{className:"bg-white rounded-full px-2 py-0.5 text-sm font-bold text-gray-800 shadow border border-gray-200",children:[s.price," ",e.jsx("span",{className:"text-amber-500",children:"🪙"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:s.name}),r>0&&e.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-0.5 rounded-full text-xs font-bold",children:[r,"x"]})]}),e.jsx("p",{className:"text-gray-600 text-xs mb-3",children:s.description}),e.jsx("button",{onClick:()=>h(s),disabled:n<s.price,className:`w-full py-1.5 rounded-lg text-sm transition-all ${n>=s.price?"bg-gray-900 hover:bg-gray-800 text-white transform hover:scale-105 shadow":"bg-gray-200 cursor-not-allowed text-gray-500"}`,children:n>=s.price?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Kaufen"]}):"Nicht genug Münzen"})]})]},s.id)})})]})]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 flex flex-col items-center z-50 pointer-events-none",children:u.map(s=>e.jsxs("div",{className:"mt-4 bg-white border border-gray-200 rounded-lg shadow-lg px-4 py-3 flex items-center gap-2",style:{animation:"slideInDown 5s ease-in-out forwards"},children:[e.jsx("span",{className:"text-2xl",children:s.item.icon}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[s.item.name," wurde erfolgreich gekauft!"]})]},s.id))})]})}export{I as default};
